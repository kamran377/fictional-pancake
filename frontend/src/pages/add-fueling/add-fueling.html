<!--
  Generated template for the AddVehiclePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
	<ion-navbar color='primary'>
		<ion-title>Add Fueling</ion-title>
	</ion-navbar>
</ion-header>


<ion-content padding class="forms-validations-content">
	<form class="sample-form validations-form" [formGroup]="fuelingForm"  (ngSubmit)="onSubmit(fuelingForm.value)">
		<ion-item>
			<ion-label floating>Fuel Service Date</ion-label>
			<ion-datetime displayFormat="MM-DD-YYYY" pickerFormat="DD-MM-YYYY" formControlName="fueling_date"></ion-datetime>
		</ion-item>
		<div class="validation-errors">
			<ng-container *ngFor="let validation of validation_messages.fueling_date">
				<div class="error-message" *ngIf="fuelingForm.get('fueling_date').hasError(validation.type) && (fuelingForm.get('fueling_date').dirty || fuelingForm.get('fueling_date').touched)">
					{{ validation.message }}
				</div>
			</ng-container>
		</div>
		
		<ion-item>
			<ion-label floating>Total Cost</ion-label>
			<ion-input type="number" formControlName="cost"></ion-input>
		</ion-item>
		<div class="validation-errors">
			<ng-container *ngFor="let validation of validation_messages.name">
				<div class="error-message" *ngIf="fuelingForm.get('cost').hasError(validation.type) && (fuelingForm.get('cost').dirty || fuelingForm.get('cost').touched)">
					{{ validation.message }}
				</div>
			</ng-container>
		</div>
		<ion-item>
			<ion-label floating>Truck ID</ion-label>
			<ion-select formControlName="vehicle_id">
				<ion-option *ngFor="let vehicle of vehicles" value="{{vehicle.id}}">{{vehicle.name}}</ion-option>
			</ion-select>	
		</ion-item>
		<div class="validation-errors">
			<ng-container *ngFor="let validation of validation_messages.name">
				<div class="error-message" *ngIf="fuelingForm.get('vehicle_id').hasError(validation.type) && (fuelingForm.get('vehicle_id').dirty || fuelingForm.get('vehicle_id').touched)">
					{{ validation.message }}
				</div>
			</ng-container>
		</div>
		<ion-item>
			<ion-label floating>Truck Odometer Reading</ion-label>
			<ion-input type="number" formControlName="odometer_reading"></ion-input>
		</ion-item>
		<div class="validation-errors">
			<ng-container *ngFor="let validation of validation_messages.name">
				<div class="error-message" *ngIf="fuelingForm.get('odometer_reading').hasError(validation.type) && (fuelingForm.get('odometer_reading').dirty || fuelingForm.get('odometer_reading').touched)">
					{{ validation.message }}
				</div>
			</ng-container>
		</div>
		
		<ion-item>
			<ion-label floating>Total Gallons</ion-label>
			<ion-input type="number" formControlName="gallons"></ion-input>
		</ion-item>
		<div class="validation-errors">
			<ng-container *ngFor="let validation of validation_messages.name">
				<div class="error-message" *ngIf="fuelingForm.get('gallons').hasError(validation.type) && (fuelingForm.get('gallons').dirty || fuelingForm.get('gallons').touched)">
					{{ validation.message }}
				</div>
			</ng-container>
		</div>
		
		
		<br/><br/>
		<button ion-button full type="submit" [disabled]="!fuelingForm.valid">Save</button>
		<br/>
		<button ion-button full color='light' (click)='cancel()' type="button" >Reset</button>

	</form>
</ion-content>
